<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How does cinema view the world?</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <style>
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Merriweather', serif;
      }

      body, p, a, li {
        font-family: 'Lato', sans-serif;
      }

      #header-title {
        background-color: #f8f9fa;
        text-align: center;
        padding-top: 2rem;
        position: relative;
        z-index: 10;
      }
      h2 {
        background-color: #f8f9fa;
        text-align: center;
        padding-top: 2rem;
        position: relative;
        z-index: 10;
        padding-bottom: 2rem;
      }
      #header-title h1 {
        font-size: 4rem;
        color: #333;
        margin-bottom: 0.5rem;
      }
      #header-title .authors {
        font-size: 1.25rem;
        color: #666;
      }
      #main-content {
        max-width: 1200px;
        margin: auto;
        padding: 1rem;
        display: flex;
        flex-direction: column;
      }
      main {
        flex-grow: 1;
      }
      .section {
        margin-bottom: 2rem;
        padding: 20px;
      }
      .nav-link {
        display: inline-block;
        margin-right: 15px;
        text-decoration: none;
        color: #007bff;
        font-weight: bold;
      }
      .nav-link:hover {
        text-decoration: underline;
      }
      #loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: white;
        z-index: 2000;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #globe {
        transition: opacity 2s;
        z-index: 2001;
      }
      p {
        font-size: 1.25rem;
        line-height: 1.5;
      }
      #image-container {
        display: flex;
        justify-content: center;
      }
      .splide__slide {
        display: flex;
        justify-content: center;
      }

      #slider {
        display: flex;
        justify-content: center;
      }

      .splide__slide img {
        width: 100%;
        height: auto;
      }

      .splide__pagination .splide__pagination__page {
        background: lightskyblue; /* This sets the unselected dots to blue */
      }
        
      .splide__pagination .splide__pagination__page.is-active {
          background: darkblue; /* This sets the color of the active dot */
      }
    </style>
  </head>
  <body>
    <div id="loading-overlay">
      <img src="images/globe.gif" alt="Globe" id="globe" />
    </div>

    <div id="header-title">
      <h1>How does cinema view the world?</h1>
      <p class="authors">by David, Louis, Tanguy, Ivan and Stefan</p>
    </div>

    <div id="main-content">
      <!-- Navigation -->
      <nav class="text-center p-4">
        <a href="#intro" class="nav-link">Introduction</a>
        <a href="#large" class="nav-link">Large scale analysis</a>
        <a href="#cityscapes" class="nav-link">Cityscapes</a>
        <a href="#characters" class="nav-link">Characters</a>
        <a href="#time" class="nav-link">Going back in time</a>
        <a href="#conclusion" class="nav-link">Conclusion</a>
      </nav>

      <!-- Main content -->
      <main>
        <!-- Introduction Section -->
        <section id="intro" class="section">
          <h2 class="text-3xl font-semibold mb-3">Introduction</h2>
          <p>
            Are movies from Afganistan associated with war? Was Paris always about love and romance? But most importantly... is Dracula present in every horror Romanian movie?
            <br />
            <br />
            <strong>Welcome to "How does cinema view the world?"</strong>, a data visualization journey through the cinematic world. In this project, we aim to answer these questions, uncover many other biases and analyse whether certain stereotypes are actually true.
            <br />
            <br />
            The significance of the problem at hand is obvious, as these stereotypes can alter the way we perceive the world around us. Thus, our goal is to explore how cinema portrays the world, and its evolution over time. Biases can affect many aspects when it comes to movies. For example, some cities might be way more popular than others and have some specific genres associated with them in the cinema world. Perhaps, the location has an impact upon the characters and how they are represented. Or, it could be that we see drastic changes throughout time.
            <br />
            <br />
            We will first give a general analysis for the entire cinematic world, countries and genres. Then, in the subsequent sections, we will explore in more detail cities, IMDb ratings, characters and timelines by clustering, plotting and many other techniques.
            <br />
          </p>
          <br />
        </section>

        <section id="data" class="section">
          <h2 class="text-3xl font-semibold mb-3">Understanding our data</h2>
          <p>
            Before we dive into the depths of our analysis, it's crucial to first examine our dataset closely. We utilized the <em>CMU Movie Summary Corpus</em> dataset, a comprehensive collection of 42,306 movie summaries. To enrich this dataset, we employed <a class="text-blue-500" href="https://openai.com/blog/gpt-3-5-turbo-fine-tuning-and-api-updates" target="_blank">LLMs (OpenAI GPT-3.5-Turbo model)</a> for generating the depicted locations, characters' alignments, and nationalities within the stories.
            A large part of our analysis is based on the information extracted using the LLMs, data that on its own is not always correct. However, we believe that the data is accurate enough to provide us with meaningful insights and to draw conclusions. We also employed a data cleaning process to remove any problems the data had.
        </p>
        <br/>
        <br/>
        <p>
            <strong>Sample Data Representation:</strong> We have asked GPT-3.5 to give us a json formatted string detailing the cities, countries and characters in the plot. The model is prompted using the title of the movie and the summary. 
            Here's an example of an output from the model:
            <br/> <br/>
            <div class="flex h-screen">
              <!-- Left Side: Movie Summary -->
              <div class="w-1/2 overflow-y-auto p-4">
                  <h2 class="text-xl font-bold mb-4">Movie Summary</h2>
                  <p class="text-justify text-sm">
                      The film begins with <span style="color: red;"><b>Moriarty</b></span> and <span style="color: blue;"><b>Holmes</b></span> verbally sparring on the steps outside the Old Bailey where <span style="color: red;"><b>Moriarty</b></span> has just been acquitted on a charge of murder due to lack of evidence. <span style="color: blue;"><b>Holmes</b></span> remarks, "You've a magnificent brain, <span style="color: red;">Moriarty</span>. I admire it. I admire it so much I'd like to present it, pickled in alcohol, to the <span style="color: darkblue;">London</span> Medical Society". "It would make an impressive exhibit", replies <span style="color: red;">Moriarty</span>. Later <span style="color: blue;">Holmes</span> and <span style="color: green;"><b>Watson</b></span> are visited at 221B Baker Street by <span style="color: purple;"><b>Ann Brandon</b></span>. She tells him that her brother <span style="color: orange;"><b>Lloyd Brandon</b></span> has received a strange note - a drawing of a man with an albatross hanging around his neck - identical to one received by her father just before his brutal murder ten years before. <span style="color: blue;">Holmes</span> deduces that the note is a warning and rushes to find <span style="color: orange;">Lloyd Brandon</span>. However, he is too late, as <span style="color: orange;">Lloyd</span> has been murdered by being strangled and having his skull crushed. <span style="color: blue;">Holmes</span> investigates and attends a garden party, disguised as a music-hall entertainer, where he correctly believes an attempt will be made on <span style="color: purple;">Ann</span>'s life. Hearing her cries from a nearby park he captures her assailant, who turns out to be <span style="color: brown;"><b>Gabriel Mateo</b></span>, out for revenge on the Brandons for the murder of his father by <span style="color: purple;">Ann</span>'s father in a dispute over ownership of their <span style="color: darkgreen;">South American</span> mine. His murder weapon was a bolas. <span style="color: brown;">Mateo</span> also reveals that it was <span style="color: red;">Moriarty</span> who urged him to seek revenge. <span style="color: blue;">Holmes</span> realises that <span style="color: red;">Moriarty</span> is using the case as a distraction from his real crime, a crime that will stir the British Empire - an attempt to steal the Crown Jewels. <span style="color: blue;">Holmes</span> rushes to the Tower of <span style="color: darkblue;">London</span> to prevent the crime, and during a struggle <span style="color: red;">Moriarty</span> falls, presumably to his death. In the end, <span style="color: purple;">Ann</span> is married and <span style="color: blue;">Holmes</span> tries to shoo a fly by playing his violin, only to have <span style="color: green;">Watson</span> swat it with his newspaper remarking, "Elementary, my dear <span style="color: blue;">Holmes</span>, elementary."
                  </p>
              </div>
          
              <!-- Right Side: ChatGPT Output -->
              <div class="w-1/2 overflow-y-auto p-4 bg-gray-100">
                  <h2 class="text-xl font-bold mb-4">ChatGPT Output</h2>
                  <pre class="whitespace-pre-wrap text-sm">
{
  "cities": [
    <span style="color: darkblue;">"London"</span>
  ],
  "countries": [
    <span style="color: darkgreen;">"UK"</span>
  ],
  "characters": {
    <span style="color: blue;">"Sherlock Holmes": {
      "nationality": "UK",
      "alignment": "good"
    }</span>,
    <span style="color: green;">"Dr. Watson": {
      "nationality": "UK",
      "alignment": "good"
    }</span>,
    <span style="color: red;">"Moriarty": {
      "nationality": "UK",
      "alignment": "evil"
    }</span>,
    <span style="color: purple;">"Ann Brandon": {
      "nationality": "UK",
      "alignment": "good"
    }</span>,
    <span style="color: orange;">"Lloyd Brandon": {
      "nationality": "UK",
      "alignment": "good"
    }</span>,
    <span style="color: brown;">"Gabriel Mateo": {
      "nationality": "South American",
      "alignment": "neutral"
    }</span>
  }
}
                  </pre>
              </div>
          </div>

          Using these outputs we have augmented our dataset and we can now start our analysis.
        </p>
        </section>

        <section id="large" class="section">
          <h2 class="text-3xl font-semibold mb-3">Large scale analysis</h2>
          <p>
            We will now show our first analysis section. We will start with a top-down approach, looking at the entire cinematic world, analyzing the countries and continents. We will delve into cities and characters in the subsequent sections.
          </p>
          <br/> <br/>
          <p>
            After our preprocessing pipeline we have identified 21,000 movies with a country present and around 13,000 with a city present.
            Even with the lower numbers we still have a lot of data to work with and we can extract meaningful insights.
          </p>
          <iframe src="plots/number_of_movies.html" width="100%" height="500px"></iframe>

            <br/> <br/>

            <p> 
                Unsurprisingly, the distribution of movies in countries is not uniform. 
                Most of the movies are from the United States, followed by the United Kingdom and India.
                This will be important to keep in mind when analyzing the data and to account for the bias that might be present.
                Below we can see the distribution of movies across countries.
            
            <iframe src="plots/interactive_movie_locations.html" width="100%" height="500px"></iframe>
            It is of importance to note that if a country has more movies in general it will be able to impose its own biases on the data.
            </p>

            <br/> <br/>

            <h3 class="text-xl font-semibold mb-3">Diving into Vector Space</h3>
<p>
    With our analysis we wanted to uncover hard to find patterns that might not be easily representable in terms of genres as such we have decided to extract meaning from summaries in a less discrete fashion. We utilized <strong><a class="text-blue-500" href="https://en.wikipedia.org/wiki/Word_embedding" target="_blank">embeddings</a></strong>, a technique to represent text as vectors. In this method, the meaning is encapsulated in the spatial distances between vectors. For our analysis, the <strong><a class="text-blue-500" href="https://openai.com/blog/new-and-improved-embedding-model" target="_blank">OpenAI Ada2 model</a></strong> was employed to create these embeddings.
    <br/><br/>
    <img src="plots/embedding.png" alt="Embedding" width="100%" height="200px">
    This approach allows us to quantify similarities between movies and to identify clusters. These clusters help us understand how movies are distributed across different countries and observe changes and patterns over time.
    <br/><br/>
    To provide a comprehensive view, we employed <strong><a class="text-blue-500" href="https://en.wikipedia.org/wiki/T-distributed_stochastic_neighbor_embedding" target="_blank">T-SNE</a></strong> for dimensionality reduction, making it easier to visualize these embeddings in two dimensions. Below, we can see the embedding space for all movies, with each point representing a movie. The colors represent the cosine similarity to the search term selected.
    <iframe src="plots/tsne.html" width="100%" height="500px"></iframe>
    Through this visualization, we can discern meaningful clusters for most of the different keywords. For example, the <em>Bollywood</em> cluster is clearly visible, as is the <em>War</em> cluster. 
    <br/><br/>
    We have also analyzed the clusters formed by countries in the embedding space. For instance, an analysis of German films reveals a cluster closely associated with war themes, whereas French cinema shows a significant cluster of love-themed movies, alongside war themes. The plot below allows switching between different countries and observing the clusters formed by movies from that country.
    <iframe src="plots/tsne_countries.html" width="100%" height="500px"></iframe>
    Interestingly, countries like the United States and the United Kingdom display a diverse range of themes, as opposed to countries like Vietnam, where most movies cluster around a singular theme. This could be due to the fact that the movie industry in the United States and the United Kingdom is more developed and has a larger variety of movies and are less influenced by the political and social events of the time.
</p>

            
            <br/> <br/>
            <h3 class="text-xl font-semibold mb-3">Genre Analysis Across Countries</h3>

<p>
    The <em>CMU Movie Summary Corpus</em> provides us with genres for each movie, allowing us to analyze the distribution of genres across different countries. As we are exploring biases in the movie industry, genre distributions come across as a very useful tool for comparing different locations.
</p>

<br>
<p>We would expect a significant presence of war movies in <em>Afghanistan, Vietnam, Germany</em>; musicals in <em>India</em>; anime in <em>Japan</em>; martial arts and action movies in <em>China</em>; spy movies in <em>Soviet Union</em>. </p>
<p>On the contrary, few people would expect a significant number of comedy movies in <em>North Korea</em>, movies about business in <em>Soviet Union</em>, war films in <em>Switzerland</em>.</p>
<p>These prejudices are mostly dictated by cultural perception and historical events. In this section we want to focus on showing differences in genre distributions in different countries and proving that these differences are indeed statistically significant. </p>

<br>
<p>
  The plot below helps us to explore the most represented genres (at least 3% of all movies in the country) in different countries. Note that a lot of movies have more than one genre.
</p>

<iframe src="plots/country_genres.html" width="100%" height="500px"></iframe>
<br>
<p>
  The plot confirms some stereotypes: 
</p>
<p>
  - Martial Arts and Action movies take place a lot in <em>China</em>
</p>
<p>
  - <em>Japan, India and China</em> are influenced a lot by the local movie industry (Japanese Movies, Bollywood and Chinese movies), on the contrary, European countries do not seem to have such a strong local movie genre presence, and rely more on worldwide genres like Drama, Comedy, etc.
</p>
<p>
  - <em>Germany, Vietnam and Afghanistan</em> have a significant presence of war films
</p>
<p>
  - <em>France</em> lives up to its reputation in regards of Romance Movies
</p>
<p>We will later test these assumptions, to find statistically significant biases.</p>
<br>
<p>
  Let’s take a closer look at one notable genre: “War film”. Giving definitive locations for “Comedy” movies might be challenging, but for war movies a lot of places come to mind.  We will take the top 10 countries where war films happen (filtered by countries with at least 100 movies, to filter out outliers). 
</p>
<br>
<div id="image-container">
  <img src="plots/top_war_locations.png" alt="Top Locations for War Films" >
</div>

<p>
  As seen in the plot, countries that are stereotypically associated with war can be found in the top 10. This means that we are on the right track, and should pursue statistical tests for different countries and genres to identify our biases.
</p>
<br>

<p>
    Our analysis, backed by a <strong>Chi-Square test</strong>, reveals a significant disparity in movie genres based on the country. With a p-value close to 0, we confirm that movie genres are not uniformly distributed worldwide. This indicates a higher likelihood of certain genres being associated with specific countries.
</p>
<br/>
<br/>

<p>
    Some notable examples confirmed include:
</p>

<ul style="font-size: 1.25rem;">
    <li><strong>France:</strong> Predominantly associated with romance movies.</li>
    <li><strong>Afghanistan, Vietnam, and Germany:</strong> More inclined towards war-themed movies.</li>
    <li><strong>India:</strong> Known for Romance and Musical movies, along with its signature Bollywood genre.</li>
    <li><strong>Romania:</strong> Known for its Horror movies. Most notably, <em>Dracula</em> related movies.</li>
</ul>

<br/>
<p>
  We run <em>proportions_ztest</em> to identify if the proportion of genre in a country is significant. It also takes into account a general proportion of the genre, meaning that if a certain country has a lot of movies in total, but a small relative amount for the given genre, then it would not be considered significant, but if another country has a higher percentage of this genre, even given a lower number of movies for the genre compared to the first country, this will be marked as significant.
We run this test on some stereotypical country-genre pairs to prove the statistical significance. We include some unexpected location-genre pairs (e.g. North Korea - Comedy) to perform a sanity check on our test.

</p>

<iframe src="plots/country_genres_tests.html" width="100%" height="500px"></iframe>

<br/>
<p>
  As seen in the table, our hypotheses were proven with a significance test.  
  Indeed, <em>Germany</em> has a significant proportion of war and biographical movies; <em>France</em> has a lot of romance and art films and not significantly many musicals; on the contrary, <em>India</em> has a very significant presence of musicals; <em>Soviet Union</em> lives up to its reputation with many Spy movies, and expectedly is not associated with Comedy (these both are also the case for <em>North Korea</em>); <em>Japan</em> has significant presence of anime, but <em>China</em> doesn’t; however, <em>China</em> has indeed a lot of martial arts movies; <em>Afghanistan</em> is notable for war films; <em>Romania</em> has a significant amount of horror movies.

</p>
<br>
<p>
  As we’ve discovered some individual cases of significance testing, we will run significance tests for all possible country-genre pairs and visualize how certain countries have significant presence of certain genres. As we are running many tests simultaneously, we are using <u>Bonferroni correction</u> on our p-value threshold due to an increased risk of a “type I” error when making multiple statistical tests.
</p>

<iframe src="plots/country_genre_significance.html" width="100%" height="500px"></iframe>

<p>
  This table captures statistically significant country-genre relations. The observations serve as a strong argument of <b>bias in movies</b>. 
</p>
              
            <br/> <br/>

            <h3 class="text-xl font-semibold mb-3">IMDb Ratings Analysis</h3>

<p>
    This subsection delves into the analysis of IMDb ratings, focusing on variations across different countries and continents. Our findings indicate notable differences in movie ratings based on the location and shows positive and negative biases in the film industry.
    The plot below shows the average IMDb rating for each continent accross a number of genres. We can already observe some interesting patterns.
</p>

<iframe src="plots/average_imdb_rating_per_continent.html" width="100%" height="500px"></iframe>

<p>
    In order to formally analyze our data we have utilized an <strong>ANOVA test</strong> which revealed significant variances in the IMDb ratings based on the continent. To further explore these differences, we conducted a <strong>Tukey test</strong> to pinpoint continents with notably distinct ratings.
</p>

<iframe src="plots/significant_differences_per_continent.html" width="100%" height="500px"></iframe>

<p>
    Key insights from the Tukey test include:
</p>
<ul style="font-size: 1.25rem;">
    <li><strong>South America:</strong> Generally exhibits lower average ratings across multiple genres compared to other continents.</li>
    <li><strong>Europe:</strong> Stands out with significantly higher average ratings in romance movies.</li>
</ul>


          </section>

        <!-- Cityscapes Section -->
        <section id="cityscapes" class="section">
          <h2 class="text-3xl font-semibold mb-3">Cityscapes</h2>
          <p>
            Cities are a central part of many movies. They are often used as a
            backdrop for the story and can even be a character in their own
            right. We will look at how cities are portrayed in movies and what
            biases are present.
          </p>

          <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Most Popular Cities</h3>

            <p>
              We could highlight the cities where the plot took place the most often in our movie dataset.
              We also can show how many of these movies were made from the country the city is located.
            </p>

            <iframe src="plots/most_popular_cities.html" width="100%" height="500px"></iframe>
              
            <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Genre analysis</h3>

            <p>
              As part of the CMU Movie Summary Corpus we have all the genres for each movie.
              We can use this to see how the genres are distributed across cities.
            </p>

            <iframe src="plots/city_genres.html" width="100%" height="500px"></iframe>
              
            <br/> <br/>


          <h3 class="text-xl font-semibold mb-3">IMDb ratings</h3>
            <p>
              Is it better to make a movie about <em>New York</em> or <em>London</em>? Let's capture IMDb ratings based on cities in the movies.
            </p>
            <br>
            <div id="image-container">
              <img src="plots/imdb_distribution.png" alt="IMDb Ratings Distribution" >
            </div>

            <br/> <br/>

            <p>
              The Gaussian distribution of IMDb ratings suggests that there is no significant difference in the average ratings of movies between countries, as the ratings tend to follow a normal distribution centered around a similar mean.
              Given this, we zoom in to visualize IMDb rating differences in four informative genres: <em>Romance, Martial Art, Bollywood, Horror</em>.
            </p>

            <iframe src="plots/imdb_genres.html" width="100%" height="500px"></iframe>

            <p>
              Key Observations:
           </p>
           <p>
            - <u>Romance</u>: Paris performs really well in this genre. Being similar to London by the number of romance movies and votes, it gets 6.66 against 6.38 in London.
           </p>
           <p>
            - <u>Horror</u>: Movies about Transylvania are ranking the highest, given a fame of the region.
           </p>
           <p>
            - <u>Martial Arts</u>: Hong Kong is a clear winner with a biggest amount of Martial Arts movies and a rating of 6.34
           </p>
           <p>
            - <u>Bollywood</u>: This genre is dominated by Indian cities, with an exception of London, which, performs the words out of major cities, and New York, which is almost on par with Delhi and Mumbai. Very high rating in Calcutta might be explained by a small number of movies associated with it (17).
           </p>

           <br>
            <p>
            We can see that the distribution of IMDb ratings is not uniform across cities.
            We have performed the Tukey test to see which cities have significantly different ratings.
            </p>
            <iframe src="plots/significant_differences_per_city.html" width="100%" height="500px"></iframe>
            </p>


          </section>
        
        <!-- Characters Section -->
        <section id="characters" class="section">
          <h2 class="text-3xl font-semibold mb-3">Characters</h2>

          <p>
            Characters are the heart of any story. They are the ones that
            drive the plot forward and make us care about the story. We will
            look at how characters are portrayed in movies and what biases are
            present.
          </p>

          <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Character alignments by countries</h3>

          <p>
            The following graphs provide insights into the alignment of characters in movies per countries, 
            with each time varying the threshold representing the minimum of characters per country. 
            In fact, we defined a minimum number of characters that a country must have for its data 
            to be included in our analysis. This threshold is essential to ensure that the 
            data for each country is sufficiently representative. It would not be fair or 
            accurate to draw conclusions from a country's data if it's based on, say, 
            just one evil character. 
          </p>

          <br/>

          <p>
            For instance, we found that a threshold of 10 characters is great to establish a representative 
            sample and including a diverse range of countries in the analysis. This number is substantial 
            enough to mitigate the risk of skewing the results with outliers (such as a single character 
            portraying a negative stereotype), yet not so high that it excludes countries with lesser 
            representation in global cinema. Countries that don't meet this minimum threshold are coloured in grey on the 
            world map. This way, we can include countries that have a moderate presence 
            in films while ensuring that their portrayal isn't dominated by a few characters.
          </p>


          <div id="image-container">
            <div id="slider" style="width: 80%;">
              <section id="image-carousel1" class="splide" aria-label="Beautiful Images">
                <div class="splide__track">
                  <ul class="splide__list">
                    <li class="splide__slide">
                      <img src="plots/map_for_k_1.png" alt="">
                    </li>
                      <li class="splide__slide">
                      <img src="plots/map_for_k_5.png" alt="">
                    </li>
                      <li class="splide__slide">
                      <img src="plots/map_for_k_10.png" alt="">
                    </li>
                      <li class="splide__slide">
                      <img src="plots/map_for_k_25.png" alt="">
                    </li>
                      <li class="splide__slide">
                      <img src="plots/map_for_k_50.png" alt="">
                    </li>
                      <li class="splide__slide">
                      <img src="plots/map_for_k_200.png" alt="">
                    </li>
                      <li class="splide__slide">
                      <img src="plots/map_for_k_400.png" alt="">
                    </li>
                      <li class="splide__slide">
                      <img src="plots/map_for_k_800.png" alt="">
                    </li>
                  </ul>
                </div>
              </section>
              </div>
           </div>

          <br/><br/>

          <div id="threshold-container" class="container mx-auto my-4">
            <div class="flex justify-center">
              <label for="threshold-selector" class="mr-2">Select a threshold:</label>
              <select id="threshold-selector" class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" onchange="updateMap(this.value)">
                <option value="1">1</option>
                <option value="5">5</option>
                <option value="10" selected>10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="200">200</option>
              </select>
            </div>
          </div>
          
          <div id="image-container">
            <img id="map-image" src="plots/map_for_k_10.png" alt="Map Visualization" style="width:100%;">
          </div>
          
          <script>
            function updateMap(value) {
              document.getElementById("map-image").src = `plots/map_for_k_${value}.png`;
            }
          </script>

          <p>
           The countries in lighter blue have a higher proportion of 'good' characters, 
          while those in darker blue have a lower proportion. This distinction helps us quickly 
          assess the global distribution of character alignments and understand potential biases 
          in character representation based on nationality in the film industry. 
          </p>

          <br/>

          <p>
            Additionally, selecting a fairly high minimum number of characters, like 400 or 800 as shown in the graphs, 
            allows us to identify the most represented countries in global cinema and those that are not. 
            This higher threshold highlights the countries with a significant presence in films, offering 
            a clearer picture of character distribution on a larger scale. Here is a table regrouping the 
            top 5 countries regarding the number of characters.
          </p>

          <br/>

          <section id="character-table" class="section">

            <table style="width:100%; border-collapse: collapse; text-align: left;">
              <tr>
                <th style="border: 1px solid #ddd; padding: 8px;">COUNTRY</th>
                <th style="border: 1px solid #ddd; padding: 8px;">NUMBER OF CHARACTERS</th>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">United States of America</td>
                <td style="border: 1px solid #ddd; padding: 8px;">29'002</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">India</td>
                <td style="border: 1px solid #ddd; padding: 8px;">9'552</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">United Kingdom</td>
                <td style="border: 1px solid #ddd; padding: 8px;">2'959</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Japan</td>
                <td style="border: 1px solid #ddd; padding: 8px;">2'044</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">France</td>
                <td style="border: 1px solid #ddd; padding: 8px;">1'778</td>
              </tr>
            </table>
          </section>

          <p>
            The following table reveals: the top 7 countries with the 
            lowest good to evil characters ratio, where characters tend to have more evil 
            alignments, and the top 7 countries with the highest ratios, indicating a 
            prevalence of good character alignments. This comparison offers a unique perspective
            on how different countries are represented in terms of character morality in global cinema. 
          </p>

          <section id="character-table" class="section">
            <table style="width:100%; border-collapse: collapse; text-align: left;">
              <tr>
                <th style="border: 1px solid #ddd; padding: 8px;">COUNTRY</th>
                <th style="border: 1px solid #ddd; padding: 8px;">RATIO</th>
                <th style="border: 1px solid #ddd; padding: 8px;">GOOD CHARACTERS</th>
                <th style="border: 1px solid #ddd; padding: 8px;">EVIL CHARACTERS</th>
                <th style="border: 1px solid #ddd; padding: 8px;">TOTAL</th>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Saudi Arabia</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.33</td>
                <td style="border: 1px solid #ddd; padding: 8px;">8</td>
                <td style="border: 1px solid #ddd; padding: 8px;">16</td>
                <td style="border: 1px solid #ddd; padding: 8px;">24</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Germany</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.40</td>
                <td style="border: 1px solid #ddd; padding: 8px;">558</td>
                <td style="border: 1px solid #ddd; padding: 8px;">828</td>
                <td style="border: 1px solid #ddd; padding: 8px;">1'386</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Colombia</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.43</td>
                <td style="border: 1px solid #ddd; padding: 8px;">36</td>
                <td style="border: 1px solid #ddd; padding: 8px;">47</td>
                <td style="border: 1px solid #ddd; padding: 8px;">83</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Romania</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.49</td>
                <td style="border: 1px solid #ddd; padding: 8px;">66</td>
                <td style="border: 1px solid #ddd; padding: 8px;">69</td>
                <td style="border: 1px solid #ddd; padding: 8px;">135</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Albania</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.52</td>
                <td style="border: 1px solid #ddd; padding: 8px;">11</td>
                <td style="border: 1px solid #ddd; padding: 8px;">10</td>
                <td style="border: 1px solid #ddd; padding: 8px;">21</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Serbia</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.53</td>
                <td style="border: 1px solid #ddd; padding: 8px;">46</td>
                <td style="border: 1px solid #ddd; padding: 8px;">40</td>
                <td style="border: 1px solid #ddd; padding: 8px;">86</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Venezuela</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.55</td>
                <td style="border: 1px solid #ddd; padding: 8px;">18</td>
                <td style="border: 1px solid #ddd; padding: 8px;">15</td>
                <td style="border: 1px solid #ddd; padding: 8px;">33</td>
              </tr>
                 
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: center;" colspan="5">... Countries in the middle ...</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Poland</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.88</td>
                <td style="border: 1px solid #ddd; padding: 8px;">141</td>
                <td style="border: 1px solid #ddd; padding: 8px;">19</td>
                <td style="border: 1px solid #ddd; padding: 8px;">160</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Senegal</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.92</td>
                <td style="border: 1px solid #ddd; padding: 8px;">33</td>
                <td style="border: 1px solid #ddd; padding: 8px;">3</td>
                <td style="border: 1px solid #ddd; padding: 8px;">36</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Bosnia and Herzegovina</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.93</td>
                <td style="border: 1px solid #ddd; padding: 8px;">13</td>
                <td style="border: 1px solid #ddd; padding: 8px;">1</td>
                <td style="border: 1px solid #ddd; padding: 8px;">14</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Bangladesh</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0.95</td>
                <td style="border: 1px solid #ddd; padding: 8px;">36</td>
                <td style="border: 1px solid #ddd; padding: 8px;">2</td>
                <td style="border: 1px solid #ddd; padding: 8px;">38</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Mali</td>
                <td style="border: 1px solid #ddd; padding: 8px;">1.00</td>
                <td style="border: 1px solid #ddd; padding: 8px;">10</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0</td>
                <td style="border: 1px solid #ddd; padding: 8px;">10</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Armenia</td>
                <td style="border: 1px solid #ddd; padding: 8px;">1.00</td>
                <td style="border: 1px solid #ddd; padding: 8px;">15</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0</td>
                <td style="border: 1px solid #ddd; padding: 8px;">15</td>
              </tr>
              <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">Zimbabwe</td>
                <td style="border: 1px solid #ddd; padding: 8px;">1.00</td>
                <td style="border: 1px solid #ddd; padding: 8px;">11</td>
                <td style="border: 1px solid #ddd; padding: 8px;">0</td>
                <td style="border: 1px solid #ddd; padding: 8px;">11</td>
              </tr>
              
              
            </table>
          </section>
          
          
          <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Character names by countries</h3>

          <div id="image-container">
          <div id="slider" style="width: 70%;">
            <section id="image-carousel2" class="splide" aria-label="Beautiful Images">
              <div class="splide__track">
                <ul class="splide__list">
                  <li class="splide__slide">
                    <img src="plots/wordcloud_for_United States.png" alt="">
                  </li>
                    <li class="splide__slide">
                    <img src="plots/wordcloud_for_India.png" alt="">
                  </li>
                    <li class="splide__slide">
                    <img src="plots/wordcloud_for_Japan.png" alt="">
                  </li>
                    <li class="splide__slide">
                    <img src="plots/wordcloud_for_France.png" alt="">
                  </li>
                    <li class="splide__slide">
                    <img src="plots/wordcloud_for_Netherlands.png" alt="">
                  </li>
                    <li class="splide__slide">
                    <img src="plots/wordcloud_for_Italy.png" alt="">
                  </li>
                    <li class="splide__slide">
                    <img src="plots/wordcloud_for_Argentina.png" alt="">
                  </li>
                </ul>
              </div>
            </section>
            </div>
          </div>

          <br/><br/>

          <p>
            This visualization displays the word clouds generated for these countries, 
            where the size of each name represents its frequency or prevalence in the dataset. 
            These word clouds provide a graphical representation of the most common names 
            associated with characters from different national backgrounds in movies, 
            offering an interesting cultural insight into name usage in cinematic contexts. 
            For instance, we see "Nguyen" as a prominent name in the Vietnam word cloud, 
            reflecting its commonality in Vietnamese culture. Similarly, classic Western 
            names dominate the clouds for the United States and France, and the Iranian 
            cloud shows a mix of traditional Persian names.
          </p>


        </section>

        <!-- Time Section -->
        <section id="time" class="section">
          <h2 class="text-3xl font-semibold mb-3">Going back in time</h2>
          <p>
            Movies are a reflection of the time they were made in. They are
            influenced by the culture and events of the time. We will look at
            how movies have changed over time and what biases are present.
            One of the first observations made is that the number of movies 
            increases over time, as we can see in the plot below.
          </p>
          <br/> <br/>
          <div id="time_movies_per_year">
            <img src="plots/number_of_movies_by_year.png"  width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>
            From this picture, the growth in the movie industry is clear - 
            this could be due to the technological advancements made in the 
            last decades, making the filming equipment more affordable, but 
            also due to the general globalization, where films from different 
            countries gained a lot of international recognition. In particular,
            the globalization and certain social and political changes may have lead to a
            shift in movie genres.
          </p>
          <br/> <br/>
          <p>
            In order to investigate this aspect, we can analyze the embedding space below.
          </p>
          <br/> <br/>
          <div id="time_movies_world">
            <img src="plots/number_of_movies_world.png" width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>
            The changes in the embedding space are sound, as major political and social 
            events take place during the 20th century (WW2, the Cold War etc.), which can
            explain the division and formation of new clusters.
          </p>
          <br/> <br/>

            <h3 class="text-xl font-semibold mb-3">Genre evolution</h3>
            <div id="slider">
              <section id="image-carousel3" class="splide" aria-label="Beautiful Images">
                <div class="splide__track">
                  <ul class="splide__list">
                    <li class="splide__slide">
                      <img src="plots/france_genres_evolution.png" alt="">
                    </li>
                    <li class="splide__slide">
                      <img src="plots/germany_genres_evolution.png" alt="">
                    </li>
                          <li class="splide__slide">
                      <img src="plots/hong_kong_genres_evolution.png" alt="">
                    </li>
                    <li class="splide__slide">
                      <img src="plots/uk_genres_evolution.png" alt="">
                    </li>
                          <li class="splide__slide">
                      <img src="plots/india_genres_evolution.png" alt="">
                    </li>
                  </ul>
                </div>
              </section>
              </div>

            <br/> <br/>
          
            <h3 class="text-xl font-semibold mb-3">Cluster time view by country</h3>
            <p>
            Looking at each country in particular we can observe some interesting patterns.
            </p>
            <div id="plot-container" class="container mx-auto my-4">
              <div class="flex justify-center">
                <label for="country-selector" class="mr-2">Select a country:</label>
                  <select id="country-selector" class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                  </select>
              </div>
              <iframe id="plot-frame" src="" width="100%" height="600px"></iframe>
              <p>
              We can see that the embedding space for each country is different across the time intervals.
              We can observe that the war cluster is present in the 1940-1960 interval for all countries but 
              some countries have a more pronounced war cluster than others. For example, Germany has a very
              pronounced war cluster, while the United States has a more diverse embedding space.

              The German cluster does not seem to go away in the subsequent time intervals, while for example
              France losses it quite quickly.
            </p>
          </div>
          <h3 class="text-xl font-semibold mb-3">Case study: France</h3>
          <p>
            A country which is very interesting to analyze, due to its major changes
            in movie genres is France. Firstly, we depict two very important clusters for
            our analysis: the war and the love clusters.
          </p>
          <br/> <br/>
          <div id="time_movies_france">
            <img src="plots/war-love-plotting.png" width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>
            Both are positioned on the right side of the embedding space, with one positioned in 
            the lower section and the other in the upper section. It turns out that these two clusters
            are crucial when it comes to analyzing France, as we a slow transition from one to the 
            other. Below, we can visualize the plot with the movies in France, from 1900 to 2020.
          </p>
          <br/> <br/>
          <div id="time_movies_france">
            <img src="plots/number_of_movies_france.png" width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>In the plot depicting movies from 1940 to 1960, we see many films present in the war 
            cluster. However, as we move through the subsequent periods—1960 to 1980, 1980 to 2000, 
            and 2000 to 2020—we observe a notable absence of movies associated with the war cluster. 
            Instead, there is a gradual transition to romance genres, reflecting historical events. 
            As time progresses from World War II, its significance diminishes, and movies return to 
            the roots.
          </p>
        </section>

        <!-- Conclusion Section -->
        <section id="conclusion" class="section">
          <h2 class="text-3xl font-semibold mb-3">Conclusion</h2>
          <p>
            As our cinematic journey concludes, we reflect on the power of film
            to influence, inform, and inspire. Our findings offer a mosaic of
            insights into how cinema, across eras and origins, crafts our
            collective consciousness. By understanding these biases, we become
            more informed viewers, able to discern the line where art diverges
            from reality, and appreciate the stories told within their
            historical and cultural context. Also Tanguy rocksss
          </p>
        </section>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        new Splide('#image-carousel1', {
          type       : 'loop',
          perPage    : 1,
          perMove    : 1,
          gap        : '1rem',
          pagination : true,
          arrows     : true,
        }).mount();
     });

     document.addEventListener('DOMContentLoaded', function() {
        new Splide('#image-carousel2', {
          type       : 'loop',
          perPage    : 1,
          perMove    : 1,
          gap        : '1rem',
          pagination : true,
          arrows     : true,
        }).mount();
     });

     document.addEventListener('DOMContentLoaded', function() {
        new Splide('#image-carousel3', {
          type       : 'loop',
          perPage    : 1,
          perMove    : 1,
          gap        : '1rem',
          pagination : true,
          arrows     : true,
        }).mount();
     });

      window.onload = function () {
        setTimeout(function () {
          document.getElementById("loading-overlay").style.display = "none";
        }, 1);
      };
      document.addEventListener('DOMContentLoaded', function() {
    const countries = ['Germany', 'United Kingdom', 'United States', 'India', 'France'];
    const countrySelector = document.getElementById('country-selector');
    const plotFrame = document.getElementById('plot-frame');

    countries.forEach(country => {
        let option = document.createElement('option');
        option.value = country;
        option.textContent = country;
        countrySelector.appendChild(option);
    });

    countrySelector.addEventListener('change', function() {
        const selectedCountry = countrySelector.value;
        plotFrame.src = `plots/tsne_${selectedCountry}_movies_over_time.html`;
    });

    // Load the first country by default
    countrySelector.value = countries[0];
    plotFrame.src = `plots/tsne_${countries[0]}_movies_over_time.html`;
});

    </script>
  </body>
</html>
