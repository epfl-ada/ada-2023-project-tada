<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How does cinema view the world?</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <style>
      h1, h2, h3, h4, h5, h6 {
        font-family: 'Merriweather', serif;
      }

      body, p, a, li {
        font-family: 'Lato', sans-serif;
      }

      #header-title {
        background-color: #f8f9fa;
        text-align: center;
        padding-top: 2rem;
        position: relative;
        z-index: 10;
      }
      h2 {
        background-color: #f8f9fa;
        text-align: center;
        padding-top: 2rem;
        position: relative;
        z-index: 10;
        padding-bottom: 2rem;
      }
      #header-title h1 {
        font-size: 4rem;
        color: #333;
        margin-bottom: 0.5rem;
      }
      #header-title .authors {
        font-size: 1.25rem;
        color: #666;
      }
      #main-content {
        max-width: 1200px;
        margin: auto;
        padding: 1rem;
        display: flex;
        flex-direction: column;
      }
      main {
        flex-grow: 1;
      }
      .section {
        margin-bottom: 2rem;
        padding: 20px;
      }
      .nav-link {
        display: inline-block;
        margin-right: 15px;
        text-decoration: none;
        color: #007bff;
        font-weight: bold;
      }
      .nav-link:hover {
        text-decoration: underline;
      }
      #loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: white;
        z-index: 2000;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #globe {
        transition: opacity 2s;
        z-index: 2001;
      }
      p {
        font-size: 1.25rem;
        line-height: 1.5;
      }
      #imdb_distribution {
        display: flex;
        justify-content: center;
      }
      .splide__slide {
        display: flex;
        justify-content: center;
      }

      #slider {
        display: flex;
        justify-content: center;
      }

      .splide__slide img {
        width: 100%;
        height: auto;
      }

      .splide__pagination .splide__pagination__page {
        background: lightskyblue; /* This sets the unselected dots to blue */
      }
        
      .splide__pagination .splide__pagination__page.is-active {
          background: darkblue; /* This sets the color of the active dot */
      }
    </style>
  </head>
  <body>
    <div id="loading-overlay">
      <img src="images/globe.gif" alt="Globe" id="globe" />
    </div>

    <div id="header-title">
      <h1>How does cinema view the world?</h1>
      <p class="authors">by David, Louis, Tanguy, Ivan and Stefan</p>
    </div>

    <div id="main-content">
      <!-- Navigation -->
      <nav class="text-center p-4">
        <a href="#intro" class="nav-link">Introduction</a>
        <a href="#large" class="nav-link">Large scale analysis</a>
        <a href="#cityscapes" class="nav-link">Cityscapes</a>
        <a href="#characters" class="nav-link">Characters</a>
        <a href="#time" class="nav-link">Going back in time</a>
        <a href="#conclusion" class="nav-link">Conclusion</a>
      </nav>

      <!-- Main content -->
      <main>
        <!-- Introduction Section -->
        <section id="intro" class="section">
          <h2 class="text-3xl font-semibold mb-3">Introduction</h2>
          <p>
            Are movies from Afganistan associated with war? Was Paris always about love and romance? But most importantly...is Dracula present in every horror Romanian movie?
            <br />
            <br />
            <strong>Welcome to "How does cinema view the world?"</strong>, a data visualization journey through the cinematic world. In this project, we aim to answer these questions, uncover many other biases and analyse whether certain stereotypes are actually true.
            <br />
            <br />
            The significance of the problem at hand is obvious, as these stereotypes can alter the way we perceive the world around us. Thus, our goal is to explore how cinema portrays the world, and its evolution over time. Biases can affect many aspects when it comes to movies. For example, some cities might be way more popular than others and have some specific genres associated with them in the cinema world. Perhaps, the location has an impact upon the characters and how they are represented. Or, it could be that we see drastic changes throughout time.
            <br />
            <br />
            We will first give a general analysis for the entire cinematic world, countries and genres. Then, in the subsequent sections, we will explore in more detail cities, IMDb ratings, characters and timelines by clustering, plotting and many other techniques.
            <br />
            <br />
            Our goal is to <strong>uncover biases</strong> in the portrayal of countries, cities, and characters in movies. We'll examine how these biases have evolved and vary across different nations.
          </p>
          <br />
        </section>

        <section id="large" class="section">
          <h2 class="text-3xl font-semibold mb-3">Large scale analysis</h2>
          <p>
            <strong>Understanding Our Data:</strong> Before we dive into the depths of our analysis, it's crucial to first examine our dataset closely. We utilized the <em>CMU Movie Summary Corpus</em>, a comprehensive collection of 42,306 movie summaries. To enrich this dataset, we employed <a class="text-blue-500" href="https://openai.com/blog/gpt-3-5-turbo-fine-tuning-and-api-updates" target="_blank">LLMs (OpenAI GPT-3.5-Turbo model)</a> for generating the depicted locations, characters' alignments, and nationalities within the stories.
        </p>
        <br/>
        <br/>
        <p>
            <strong>Sample Data Representation:</strong> Here's an example of how GPT-3.5 processes and structures data:
            <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">
    {
       "cities": [
          "Mexico City"
       ],
       "countries": [
          "Mexico"
       ],
       "characters": {
          "Keaton": {
             "nationality": "USA",
             "alignment": "good"
          }
       }
    }
            </pre>
        </p>
        
          <br/> <br/>
          <p>
            Our preprocessing only identified 21,000 movies with a country present and around 13,000 with a city present.
            Even with the lower numbers we still have a lot of data to work with.
          </p>
          <iframe src="plots/number_of_movies.html" width="100%" height="500px"></iframe>

            <br/> <br/>

            <p> 
                Unsurprisingly, the distribution of movies in countries is not uniform. 
                Most of the movies are from the United States, followed by the United Kingdom and India.
                This will be important to keep in mind when analyzing the data and to account for the bias that might be present.
            
            <iframe src="plots/interactive_movie_locations.html" width="100%" height="500px"></iframe>
            </p>

            <br/> <br/>

            <h3 class="text-xl font-semibold mb-3">Diving into Vector Space</h3>
<p>
    To effectively derive meaning from movie summaries, we utilize <strong><a class="text-blue-500" href="https://en.wikipedia.org/wiki/Word_embedding" target="_blank">embeddings</a></strong>, a technique to represent text as vectors. In this method, the meaning is encapsulated in the spatial distances between vectors. For our analysis, the <strong><a class="text-blue-500" href="https://openai.com/blog/new-and-improved-embedding-model" target="_blank">OpenAI Ada2 model</a></strong> was employed to create these embeddings.
    <br/><br/>
    <img src="plots/embedding.png" alt="Embedding" width="100%" height="200px">
    This approach allows us to quantify similarities between movies and to identify clusters. These clusters help us understand how movies are distributed across different countries and observe changes and patterns over time.
    <br/><br/>
    To provide a comprehensive view, we employed <strong><a class="text-blue-500" href="https://en.wikipedia.org/wiki/T-distributed_stochastic_neighbor_embedding" target="_blank">T-SNE</a></strong> for dimensionality reduction, making it easier to visualize these embeddings in two dimensions.
    <iframe src="plots/tsne.html" width="100%" height="500px"></iframe>
    Through this visualization, we can discern meaningful clusters and their relevance to specific movie themes.
    <br/><br/>
    For instance, an analysis of German films reveals a cluster closely associated with war themes, whereas French cinema shows a significant cluster of love-themed movies, alongside war themes.
    <iframe src="plots/tsne_countries.html" width="100%" height="500px"></iframe>
    Interestingly, countries like the United States and the United Kingdom display a diverse range of themes, as opposed to countries like Vietnam, where most movies cluster around a singular theme. This could be due to the fact that the movie industry in the United States and the United Kingdom is more developed and has a larger variety of movies and are less influenced by the political and social events of the time.
</p>

            
            <br/> <br/>
            <h3 class="text-xl font-semibold mb-3">Genre Analysis Across Countries</h3>

<p>
    The <em>CMU Movie Summary Corpus</em> provides us with genres for each movie, allowing us to analyze the distribution of genres across different countries.
</p>

<iframe src="plots/country_genres.html" width="100%" height="500px"></iframe>

<p>
    Our analysis, backed by a <strong>Chi-Square test</strong>, reveals a significant disparity in movie genres based on the country. With a p-value close to 0, we confirm that movie genres are not uniformly distributed worldwide. This indicates a higher likelihood of certain genres being associated with specific countries.
</p>
<br/>
<br/>

<p>
    Some notable examples confirmed include:
</p>

<ul style="font-size: 1.25rem;">
    <li><strong>France:</strong> Predominantly associated with romance movies.</li>
    <li><strong>Afghanistan, Vietnam, and Germany:</strong> More inclined towards war-themed movies.</li>
    <li><strong>India:</strong> Known for Romance and Musical movies, along with its signature Bollywood genre.</li>
    <li><strong>Romania:</strong> Known for its Horror movies. Most notably, <em>Dracula</em> related movies.</li>
</ul>

              
            <br/> <br/>

            <h3 class="text-xl font-semibold mb-3">IMDb Ratings Analysis</h3>

<p>
    This subsection delves into the analysis of IMDb ratings, focusing on variations across different countries and continents. Our findings indicate notable differences in movie ratings based on the location depicted in the plot.
</p>

<iframe src="plots/average_imdb_rating_per_continent.html" width="100%" height="500px"></iframe>

<p>
    A comprehensive <strong>ANOVA test</strong> revealed significant variances in the IMDb ratings based on the continent. To further explore these differences, we conducted a <strong>Tukey test</strong> to pinpoint continents with notably distinct ratings.
</p>

<iframe src="plots/significant_differences_per_continent.html" width="100%" height="500px"></iframe>

<p>
    Key insights from the Tukey test include:
</p>
<ul style="font-size: 1.25rem;">
    <li><strong>South America:</strong> Generally exhibits lower average ratings across multiple genres compared to other continents.</li>
    <li><strong>Europe:</strong> Stands out with significantly higher average ratings in romance movies.</li>
</ul>


          </section>

        <!-- Cityscapes Section -->
        <section id="cityscapes" class="section">
          <h2 class="text-3xl font-semibold mb-3">Cityscapes</h2>
          <p>
            Cities are a central part of many movies. They are often used as a
            backdrop for the story and can even be a character in their own
            right. We will look at how cities are portrayed in movies and what
            biases are present.
          </p>

          <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Most Popular Cities</h3>

            <p>
              We could highlight the cities where the plot took place the most often in our movie dataset.
              We also can show how many of these movies were made from the country the city is located.
            </p>

            <iframe src="plots/most_popular_cities.html" width="100%" height="500px"></iframe>
              
            <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Genre analysis</h3>

            <p>
              As part of the CMU Movie Summary Corpus we have all the genres for each movie.
              We can use this to see how the genres are distributed across cities.
            </p>

            <iframe src="plots/city_genres.html" width="100%" height="500px"></iframe>
              
            <br/> <br/>


          <h3 class="text-xl font-semibold mb-3">IMDb ratings</h3>
            <p>
              In this section we analyze IMDb ratings of different cities. Our focus is on cities that feature in the plot of at least 50 movies. 
            </p>
              
            <p>
              TODO: IMDb distribution
            </p>
            <div id="imdb_distribution">
              <img src="images/imdb_distribution.png" alt="IMDb Ratings Distribution" >
            </div>

            <br/> <br/>

            <p>
              TODO: IMDb by city explanation
            <iframe src="plots/imdb_genres.html" width="100%" height="500px"></iframe>

            We can see that the distribution of IMDb ratings is not uniform across cities.
            We have performed the Tukey test to see which cities have significantly different ratings.
            <iframe src="plots/significant_differences_per_city.html" width="100%" height="500px"></iframe>
            </p>

            <br/> <br/>

            <p>
              TODO: IMDb conclusion
            </p>

          </section>
        
        <!-- Characters Section -->
        <section id="characters" class="section">
          <h2 class="text-3xl font-semibold mb-3">Characters</h2>

          <p>
            Characters are the heart of any story. They are the ones that
            drive the plot forward and make us care about the story. We will
            look at how characters are portrayed in movies and what biases are
            present.
          </p>

          <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Character alignments by countries</h3>

          <iframe src="plots/interactive_choropleth_map.html" width="100%" height="500px"></iframe>

          <br/><br/>

          <p>
            The resulting visualization displays a world map where each country's color
            intensity reflects the proportion of good characters in the analyzed data. 
            Countries in lighter blue have a higher proportion of good characters, 
            while those in darker blue have a lower proportion. Countries highlighted 
            in green, such as South Sudan, Ivory Coast, Tanzania, Central African Republic, 
            Gabon, and Togo, represent areas with insufficient data for the analysis. 
            This geographical representation allows for a quick visual assessment of the
            distribution of character alignments around the world based on the dataset.
          </p>

          <br/> <br/>

          <h3 class="text-xl font-semibold mb-3">Character names by countries</h3>

          <iframe src="plots/names.html" width="100%" height="500px"></iframe>

          <br/><br/>

          <p>
            This visualization displays the word clouds generated for these countries, 
            where the size of each name represents its frequency or prevalence in the dataset. 
            These word clouds provide a graphical representation of the most common names 
            associated with characters from different national backgrounds in movies, 
            offering an interesting cultural insight into name usage in cinematic contexts. 
            For instance, we see "Nguyen" as a prominent name in the Vietnam word cloud, 
            reflecting its commonality in Vietnamese culture. Similarly, classic Western 
            names dominate the clouds for the United States and France, and the Iranian 
            cloud shows a mix of traditional Persian names.
          </p>


        </section>

        <!-- Time Section -->
        <section id="time" class="section">
          <h2 class="text-3xl font-semibold mb-3">Going back in time</h2>
          <p>
            Movies are a reflection of the time they were made in. They are
            influenced by the culture and events of the time. We will look at
            how movies have changed over time and what biases are present.
            One of the first observations made is that the number of movies 
            increases over time, as we can see in the plot below.
          </p>
          <br/> <br/>
          <div id="time_movies_per_year">
            <img src="plots/number_of_movies_by_year.png"  width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>
            From this picture, the growth in the movie industry is clear - 
            this could be due to the technological advancements made in the 
            last decades, making the filming equipment more affordable, but 
            also due to the general globalization, where films from different 
            countries gained a lot of international recognition. In particular,
            the globalization and certain social and political changes may have lead to a
            shift in movie genres.
          </p>
          <br/> <br/>
          <p>
            In order to investigate this aspect, we can analyze the embedding space below.
          </p>
          <br/> <br/>
          <div id="time_movies_world">
            <img src="plots/number_of_movies_world.png" width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>
            The changes in the embedding space are sound, as major political and social 
            events take place during the 20th century (WW2, the Cold War etc.), which can
            explain the division and formation of new clusters.
          </p>
          <br/> <br/>

            <h3 class="text-xl font-semibold mb-3">Genre evolution</h3>
            <div id="slider">
              <section id="image-carousel" class="splide" aria-label="Beautiful Images">
                <div class="splide__track">
                  <ul class="splide__list">
                    <li class="splide__slide">
                      <img src="plots/france_genres_evolution.png" alt="">
                    </li>
                    <li class="splide__slide">
                      <img src="plots/germany_genres_evolution.png" alt="">
                    </li>
                          <li class="splide__slide">
                      <img src="plots/hong_kong_genres_evolution.png" alt="">
                    </li>
                    <li class="splide__slide">
                      <img src="plots/uk_genres_evolution.png" alt="">
                    </li>
                          <li class="splide__slide">
                      <img src="plots/india_genres_evolution.png" alt="">
                    </li>
                  </ul>
                </div>
              </section>
              </div>

            <br/> <br/>
          
            <h3 class="text-xl font-semibold mb-3">Cluster time view by country</h3>
            <p>
            Looking at each country in particular we can observe some interesting patterns.
            </p>
            <div id="plot-container" class="container mx-auto my-4">
              <div class="flex justify-center">
                <label for="country-selector" class="mr-2">Select a country:</label>
                  <select id="country-selector" class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500">
                  </select>
              </div>
              <iframe id="plot-frame" src="" width="100%" height="600px"></iframe>
              <p>
              We can see that the embedding space for each country is different across the time intervals.
              We can observe that the war cluster is present in the 1940-1960 interval for all countries but 
              some countries have a more pronounced war cluster than others. For example, Germany has a very
              pronounced war cluster, while the United States has a more diverse embedding space.

              The German cluster does not seem to go away in the subsequent time intervals, while for example
              France losses it quite quickly.
            </p>
          </div>
          <h3 class="text-xl font-semibold mb-3">Case study: France</h3>
          <p>
            A country which is very interesting to analyze, due to its major changes
            in movie genres is France. Firstly, we depict two very important clusters for
            our analysis: the war and the love clusters.
          </p>
          <br/> <br/>
          <div id="time_movies_france">
            <img src="plots/war-love-plotting.png" width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>
            Both are positioned on the right side of the embedding space, with one positioned in 
            the lower section and the other in the upper section. It turns out that these two clusters
            are crucial when it comes to analyzing France, as we a slow transition from one to the 
            other. Below, we can visualize the plot with the movies in France, from 1900 to 2020.
          </p>
          <br/> <br/>
          <div id="time_movies_france">
            <img src="plots/number_of_movies_france.png" width="100%" height="500px">
          </div>
          <br/> <br/>
          <p>In the plot depicting movies from 1940 to 1960, we see many films present in the war 
            cluster. However, as we move through the subsequent periods—1960 to 1980, 1980 to 2000, 
            and 2000 to 2020—we observe a notable absence of movies associated with the war cluster. 
            Instead, there is a gradual transition to romance genres, reflecting historical events. 
            As time progresses from World War II, its significance diminishes, and movies return to 
            the roots.
          </p>
        </section>

        <!-- Conclusion Section -->
        <section id="conclusion" class="section">
          <h2 class="text-3xl font-semibold mb-3">Conclusion</h2>
          <p>
            As our cinematic journey concludes, we reflect on the power of film
            to influence, inform, and inspire. Our findings offer a mosaic of
            insights into how cinema, across eras and origins, crafts our
            collective consciousness. By understanding these biases, we become
            more informed viewers, able to discern the line where art diverges
            from reality, and appreciate the stories told within their
            historical and cultural context. Also Tanguy rocksss
          </p>
        </section>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        new Splide('#image-carousel', {
          type       : 'loop',
          perPage    : 1,
          perMove    : 1,
          gap        : '1rem',
          pagination : true,
          arrows     : true,
        }).mount();
     });

      window.onload = function () {
        setTimeout(function () {
          document.getElementById("loading-overlay").style.display = "none";
        }, 1);
      };
      document.addEventListener('DOMContentLoaded', function() {
    const countries = ['Germany', 'United Kingdom', 'United States', 'India', 'France'];
    const countrySelector = document.getElementById('country-selector');
    const plotFrame = document.getElementById('plot-frame');

    countries.forEach(country => {
        let option = document.createElement('option');
        option.value = country;
        option.textContent = country;
        countrySelector.appendChild(option);
    });

    countrySelector.addEventListener('change', function() {
        const selectedCountry = countrySelector.value;
        plotFrame.src = `plots/tsne_${selectedCountry}_movies_over_time.html`;
    });

    // Load the first country by default
    countrySelector.value = countries[0];
    plotFrame.src = `plots/tsne_${countries[0]}_movies_over_time.html`;
});

    </script>
  </body>
</html>
